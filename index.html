<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BAM Check-In Volunteer Guide | Bushwick Ayuda Mutua</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --bam-green: #2d5a27;
            --bam-green-light: #4a8c3f;
            --bam-green-dark: #1e3d1a;
            --bam-cream: #f5f2e8;
            --bam-tan: #d4c5a9;
            --bam-brown: #5c4a32;
            --bam-orange: #e07830;
            --bam-orange-light: #f4a460;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: #333;
            background: var(--bam-cream);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 20px;
            background: white;
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(45, 90, 39, 0.15);
            border: 3px solid var(--bam-green);
        }

        .logo-area {
            margin-bottom: 15px;
        }

        .bam-logo {
            max-width: 200px;
            height: auto;
        }

        header h1 {
            color: var(--bam-green-dark);
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        header p {
            color: var(--bam-brown);
            font-size: 1rem;
        }

        /* Language Picker Styles */
        .language-picker {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .lang-btn {
            padding: 8px 16px;
            border: 2px solid var(--bam-green);
            border-radius: 20px;
            background: white;
            color: var(--bam-green);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }

        .lang-btn:hover {
            background: var(--bam-cream);
        }

        .lang-btn.active {
            background: var(--bam-green);
            color: white;
        }

        /* Clickable Checklist Styles */
        .quick-checklist {
            background: #fff9e6;
            border-left: 4px solid var(--bam-orange);
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .quick-checklist h3 {
            color: var(--bam-brown);
            margin-bottom: 10px;
        }

        .checklist-items {
            list-style: none;
            padding-left: 0;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s ease;
        }

        .checklist-item:hover {
            background: rgba(224, 120, 48, 0.1);
            border-radius: 5px;
            padding-left: 5px;
            margin-left: -5px;
        }

        .checklist-item input[type="checkbox"] {
            display: none;
        }

        .checkbox-custom {
            width: 24px;
            height: 24px;
            border: 2px solid var(--bam-brown);
            border-radius: 5px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s ease;
            background: white;
        }

        .checkbox-custom::after {
            content: "";
            width: 12px;
            height: 12px;
            background: transparent;
            border-radius: 2px;
            transition: all 0.2s ease;
        }

        .checklist-item input[type="checkbox"]:checked + .checkbox-custom {
            background: var(--bam-green);
            border-color: var(--bam-green);
        }

        .checklist-item input[type="checkbox"]:checked + .checkbox-custom::after {
            content: "‚úì";
            color: white;
            font-weight: bold;
            font-size: 14px;
            background: transparent;
        }

        .checklist-item input[type="checkbox"]:checked ~ .checkbox-label {
            text-decoration: line-through;
            color: #888;
        }

        .checkbox-label {
            flex: 1;
            transition: all 0.2s ease;
        }

        /* Progress indicator */
        .progress-bar {
            background: var(--bam-tan);
            height: 8px;
            border-radius: 4px;
            margin-top: 15px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--bam-green), var(--bam-green-light));
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .progress-text {
            text-align: center;
            margin-top: 8px;
            font-size: 0.85rem;
            color: var(--bam-brown);
        }

        .section {
            background: white;
            border-radius: 15px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(45, 90, 39, 0.1);
            border: 1px solid var(--bam-tan);
        }

        .section-header {
            background: linear-gradient(135deg, var(--bam-green) 0%, var(--bam-green-dark) 100%);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .step-number {
            background: white;
            color: var(--bam-green);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .section-header h2 {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .section-content {
            padding: 20px;
        }

        .instruction {
            margin-bottom: 15px;
        }

        .instruction p {
            margin-bottom: 10px;
            color: #555;
        }

        .image-container {
            border: 2px solid var(--bam-tan);
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }

        .image-container img {
            width: 100%;
            height: auto;
            display: block;
        }

        .image-caption {
            background: var(--bam-cream);
            padding: 10px;
            text-align: center;
            font-size: 0.9rem;
            color: var(--bam-brown);
        }

        .tip {
            background: #e8f5e9;
            border-left: 4px solid var(--bam-green);
            padding: 12px 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }

        .tip strong {
            color: var(--bam-green-dark);
        }

        .warning {
            background: #fff3e0;
            border-left: 4px solid var(--bam-orange);
            padding: 12px 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }

        .warning strong {
            color: #bf5600;
        }

        .edge-case {
            background: #fff0f0;
            border-left: 4px solid #d32f2f;
            padding: 12px 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }

        .edge-case strong {
            color: #c62828;
        }

        .sub-steps {
            margin-left: 20px;
            border-left: 3px solid var(--bam-green);
            padding-left: 15px;
        }

        .sub-step {
            padding: 10px 0;
            border-bottom: 1px dashed var(--bam-tan);
        }

        .sub-step:last-child {
            border-bottom: none;
        }

        .flow-diagram {
            background: var(--bam-cream);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .flow-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
        }

        .flow-arrow {
            color: var(--bam-green);
            font-size: 1.5rem;
        }

        .decision-box {
            background: #fff9c4;
            padding: 10px 15px;
            border-radius: 8px;
            border: 2px solid #fbc02d;
        }

        .action-box {
            background: #e3f2fd;
            padding: 10px 15px;
            border-radius: 8px;
            border: 2px solid #2196f3;
        }

        .mermaid-container {
            background: var(--bam-cream);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
        }

        .mermaid {
            display: flex;
            justify-content: center;
        }

        footer {
            text-align: center;
            padding: 20px;
            color: var(--bam-brown);
            font-size: 0.9rem;
        }

        footer a {
            color: var(--bam-green);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Collapsible sections for mobile */
        .collapsible {
            cursor: pointer;
        }

        .collapsible .section-header:after {
            content: "‚ñº";
            margin-left: auto;
            transition: transform 0.3s;
        }

        .collapsible.collapsed .section-header:after {
            transform: rotate(-90deg);
        }

        .collapsible.collapsed .section-content {
            display: none;
        }

        /* Hands decoration */
        .hands-icon {
            font-size: 1.5rem;
            margin-right: 8px;
        }

        /* Mobile optimizations */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }

            header h1 {
                font-size: 1.5rem;
            }

            .section-header h2 {
                font-size: 1rem;
            }

            .checkbox-custom {
                width: 28px;
                height: 28px;
            }

            .checklist-item {
                padding: 12px 0;
            }
        }

        /* Print styles */
        @media print {
            body {
                background: white;
                padding: 0;
            }

            .section {
                break-inside: avoid;
                box-shadow: none;
                border: 1px solid #ddd;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-area">
                <img src="images/BAM_logo.svg" alt="Bushwick Ayuda Mutua" class="bam-logo">
            </div>
            <div class="language-picker">
                <button class="lang-btn active" onclick="setLanguage('en')">English</button>
                <button class="lang-btn" onclick="setLanguage('es')">Espa√±ol</button>
            </div>
            <h1 data-i18n="title">Check-In Volunteer Guide</h1>
            <p data-i18n="subtitle">Step-by-step instructions for the distribution check-in flow</p>
        </header>

        <div class="quick-checklist">
            <h3 data-i18n="checklist_title">üîç Before You Start - Quick Checklist</h3>
            <ul class="checklist-items">
                <li class="checklist-item" onclick="toggleCheckbox(this)">
                    <input type="checkbox" id="check1">
                    <span class="checkbox-custom"></span>
                    <span class="checkbox-label" data-i18n="check1">Check your phone/device is charged</span>
                </li>
                <li class="checklist-item" onclick="toggleCheckbox(this)">
                    <input type="checkbox" id="check2">
                    <span class="checkbox-custom"></span>
                    <span class="checkbox-label" data-i18n="check2">Ensure you have access to the BAM Check-In system</span>
                </li>
                <li class="checklist-item" onclick="toggleCheckbox(this)">
                    <input type="checkbox" id="check3">
                    <span class="checkbox-custom"></span>
                    <span class="checkbox-label" data-i18n="check3">Know today's distribution items</span>
                </li>
                <li class="checklist-item" onclick="toggleCheckbox(this)">
                    <input type="checkbox" id="check4">
                    <span class="checkbox-custom"></span>
                    <span class="checkbox-label" data-i18n="check4">Have the appointments list ready for edge cases</span>
                </li>
            </ul>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">0 of 4 completed</div>
        </div>

        <!-- STEP 1: LANDING -->
        <div class="section collapsible">
            <div class="section-header">
                <span class="step-number">1</span>
                <h2 data-i18n="step1_title">Landing Page - Today's Appointments</h2>
            </div>
            <div class="section-content">
                <div class="instruction">
                    <p data-i18n="step1_desc">When you open the BAM Check-In system, you'll see <strong>Today's Appointments</strong> view. This shows all recipients scheduled for today's distribution.</p>
                </div>

                <div class="image-container">
                    <img src="images/landing page.png" alt="Landing page showing Today's Appointments view">
                    <div class="image-caption" data-i18n="step1_caption">üìç Landing Page: Today's Appointments view with recipients scheduled for distribution</div>
                </div>

                <div class="tip">
                    <strong data-i18n="tip_label">üí° Tip:</strong> <span data-i18n="step1_tip">The "Today's Appointments" view automatically filters to show only recipients with appointments for today's date.</span>
                </div>
            </div>
        </div>

        <!-- STEP 2: SEARCH BY NAME -->
        <div class="section collapsible">
            <div class="section-header">
                <span class="step-number">2</span>
                <h2 data-i18n="step2_title">Search by Name</h2>
            </div>
            <div class="section-content">
                <div class="instruction">
                    <p data-i18n="step2_desc">When a recipient arrives, search for them by name using the search box in the upper right corner.</p>
                </div>

                <div class="image-container">
                    <img src="images/search by name.png" alt="Search by name in upper right">
                    <div class="image-caption" data-i18n="step2_caption">üîç Type the recipient's name in the search box (upper right) to find them quickly</div>
                </div>

                <div class="tip">
                    <strong data-i18n="tip_label">üí° Tip:</strong> <span data-i18n="step2_tip">You can search by partial name - typing "mar" will find "Mar√≠a", "Maria Caz", etc.</span>
                </div>
            </div>
        </div>

        <!-- STEP 3: SEARCH BY PHONE -->
        <div class="section collapsible">
            <div class="section-header">
                <span class="step-number">3</span>
                <h2 data-i18n="step3_title">Alternative: Search by Phone Number</h2>
            </div>
            <div class="section-content">
                <div class="instruction">
                    <p data-i18n="step3_desc">If you can't find the recipient by name, use <strong>Ctrl+F</strong> (or Cmd+F on Mac) to search by phone number.</p>
                </div>

                <div class="image-container">
                    <img src="images/search by phone number.png" alt="Browser find dialog searching by phone">
                    <div class="image-caption" data-i18n="step3_caption">üì± Use Ctrl+F (Cmd+F on Mac) to search by phone number</div>
                </div>

                <div class="tip">
                    <strong data-i18n="tip_label">üí° Tip:</strong> <span data-i18n="step3_tip">You can search for partial phone numbers like "(347) 339" to find a match. Make sure to include the parentheses!</span>
                </div>
            </div>
        </div>

        <!-- STEP 4: VIEW OPEN REQUESTS -->
        <div class="section collapsible">
            <div class="section-header">
                <span class="step-number">4</span>
                <h2 data-i18n="step4_title">View Recipient's Open Requests</h2>
            </div>
            <div class="section-content">
                <div class="instruction">
                    <p data-i18n="step4_desc">Click on the recipient's name to expand and see their <strong>requests</strong>. Focus on items with <strong>"Open"</strong> status - these are the items for the current distribution.</p>
                </div>

                <div class="image-container">
                    <img src="images/open requests.png" alt="Expanded view showing open requests">
                    <div class="image-caption" data-i18n="step4_caption">üì¶ Expanded view showing recipient's requests - focus on "Open" status items</div>
                </div>

                <div class="warning">
                    <strong data-i18n="important_label">‚ö†Ô∏è Important:</strong> <span data-i18n="step4_warning">Only process items with <strong>"Open"</strong> status. Items marked "Delivered" have already been given out.</span>
                </div>
            </div>
        </div>

        <!-- STEP 5: PROCESS EACH REQUEST -->
        <div class="section collapsible">
            <div class="section-header">
                <span class="step-number">5</span>
                <h2 data-i18n="step5_title">Process Each Request</h2>
            </div>
            <div class="section-content">
                <div class="instruction">
                    <p data-i18n="step5_desc">For each <strong>Open</strong> request, ask the recipient if they still need the item:</p>
                </div>

                <div class="mermaid-container" id="mermaid-en">
                    <pre class="mermaid">
flowchart TD
    A["üó£Ô∏è Ask: Do you need this item?"] --> B{Response}
    B -->|"‚úÖ YES"| C["Mark as Delivered"]
    B -->|"‚ùå NO"| D["Mark as Timeout"]
    C --> E["Next Open Request"]
    D --> E
    E --> F{More Open Requests?}
    F -->|Yes| A
    F -->|No| G["‚úÖ Mark as Checked In"]

    style A fill:#fff9c4,stroke:#fbc02d,stroke-width:2px
    style B fill:#e3f2fd,stroke:#2196f3,stroke-width:2px
    style C fill:#e8f5e9,stroke:#2d5a27,stroke-width:2px
    style D fill:#fff3e0,stroke:#e07830,stroke-width:2px
    style E fill:#f5f5f5,stroke:#9e9e9e,stroke-width:2px
    style F fill:#e3f2fd,stroke:#2196f3,stroke-width:2px
    style G fill:#e8f5e9,stroke:#2d5a27,stroke-width:3px
                    </pre>
                </div>

                <div class="mermaid-container" id="mermaid-es" style="display: none;">
                    <pre class="mermaid">
flowchart TD
    A["üó£Ô∏è Preguntar: ¬øNecesita este art√≠culo?"] --> B{Respuesta}
    B -->|"‚úÖ S√ç"| C["Marcar como Entregado"]
    B -->|"‚ùå NO"| D["Marcar como Vencido"]
    C --> E["Siguiente Solicitud Abierta"]
    D --> E
    E --> F{¬øM√°s Solicitudes Abiertas?}
    F -->|S√≠| A
    F -->|No| G["‚úÖ Marcar como Registrado"]

    style A fill:#fff9c4,stroke:#fbc02d,stroke-width:2px
    style B fill:#e3f2fd,stroke:#2196f3,stroke-width:2px
    style C fill:#e8f5e9,stroke:#2d5a27,stroke-width:2px
    style D fill:#fff3e0,stroke:#e07830,stroke-width:2px
    style E fill:#f5f5f5,stroke:#9e9e9e,stroke-width:2px
    style F fill:#e3f2fd,stroke:#2196f3,stroke-width:2px
    style G fill:#e8f5e9,stroke:#2d5a27,stroke-width:3px
                    </pre>
                </div>

                <h4 style="margin: 20px 0 10px;" data-i18n="step5_if_need">If they need the item ‚Üí Mark as Delivered:</h4>
                <div class="image-container">
                    <img src="images/mark as delivered.png" alt="Dropdown showing Delivered option">
                    <div class="image-caption" data-i18n="step5_delivered_caption">‚úÖ Click the status dropdown and select "Delivered" when recipient receives the item</div>
                </div>

                <h4 style="margin: 20px 0 10px;" data-i18n="step5_if_no_need">If they don't need the item ‚Üí Mark as Timeout:</h4>
                <div class="image-container">
                    <img src="images/mark as time out .png" alt="Dropdown showing Timeout option">
                    <div class="image-caption" data-i18n="step5_timeout_caption">‚è±Ô∏è Click the status dropdown and select "Timeout" when recipient no longer needs the item</div>
                </div>

                <div class="tip">
                    <strong data-i18n="tip_label">üí° Tip:</strong> <span data-i18n="step5_tip">Process ALL open requests for the current distribution before moving to the next recipient.</span>
                </div>

                <h4 style="margin: 20px 0 10px;" data-i18n="step5_after_all">After all requests are processed ‚Üí Mark as Checked In:</h4>
                <div class="image-container">
                    <img src="images/mark as checked in .png" alt="Mark as checked in">
                    <div class="image-caption" data-i18n="step5_checkedin_caption">‚úÖ Once all requests are processed, mark the recipient as "Checked In"</div>
                </div>
            </div>
        </div>

        <!-- EDGE CASES -->
        <div class="section collapsible">
            <div class="section-header">
                <span class="step-number">‚ö°</span>
                <h2 data-i18n="edge_title">Edge Case: Early/Late Arrivals</h2>
            </div>
            <div class="section-content">
                <div class="edge-case">
                    <strong data-i18n="scenario_label">üö® Scenario:</strong> <span data-i18n="edge_scenario">Someone shows up but they're scheduled for a different day (early or late arrival).</span>
                </div>

                <div class="instruction">
                    <p data-i18n="edge_desc">Follow these steps to update their appointment to today:</p>
                </div>

                <div class="sub-steps">
                    <div class="sub-step">
                        <strong data-i18n="step_a_label">Step A:</strong> <span data-i18n="step_a">Go to the <strong>Appointments</strong> interface (in the left sidebar)</span>
                        <div class="image-container" style="margin-top: 10px;">
                            <img src="images/go to appointments.png" alt="Sidebar showing Appointments menu">
                            <div class="image-caption" data-i18n="step_a_caption">Navigate to Appointments in the sidebar</div>
                        </div>
                    </div>

                    <div class="sub-step">
                        <strong data-i18n="step_b_label">Step B:</strong> <span data-i18n="step_b">Find the person using the same search methods from <strong>Steps 2 & 3</strong> (search by name or Ctrl+F for phone number), then click on their <strong>Appointment Date</strong> field</span>
                        <div class="image-container" style="margin-top: 10px;">
                            <img src="images/go to appointment date .png" alt="Clicking appointment date field">
                            <div class="image-caption" data-i18n="step_b_caption">Click on the Appointment Date to open the calendar picker</div>
                        </div>
                    </div>

                    <div class="sub-step">
                        <strong data-i18n="step_c_label">Step C:</strong> <span data-i18n="step_c">Select <strong>today's date</strong> from the calendar picker</span>
                        <div class="image-container" style="margin-top: 10px;">
                            <img src="images/change appointment to todays date.png" alt="Calendar picker showing date selection">
                            <div class="image-caption" data-i18n="step_c_caption">üìÖ Select today's date (highlighted in blue) to update the appointment</div>
                        </div>
                    </div>

                    <div class="sub-step">
                        <strong data-i18n="step_d_label">Step D:</strong> <span data-i18n="step_d">Go back to <strong>BAM Check-In ‚Üí Today's Appointments</strong> - the person should now appear!</span>
                        <div class="image-container" style="margin-top: 10px;">
                            <img src="images/person should appear now.png" alt="Person now appearing in today's appointments">
                            <div class="image-caption" data-i18n="step_d_caption">‚úÖ After updating, return to Today's Appointments - they should now appear!</div>
                        </div>
                    </div>

                    <div class="sub-step">
                        <strong data-i18n="step_e_label">Step E:</strong> <span data-i18n="step_e">Continue with the normal BAM check-in flow (search, process requests, mark delivered/timeout)</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- END OF DISTRO -->
        <div class="section collapsible">
            <div class="section-header">
                <span class="step-number">‚úì</span>
                <h2 data-i18n="end_title">End of Distribution Routine</h2>
            </div>
            <div class="section-content">
                <div class="instruction">
                    <p data-i18n="end_desc">At the end of each distribution day:</p>
                </div>
                <ol style="margin-left: 20px; line-height: 2;">
                    <li data-i18n="end_step1">Review that all checked-in recipients have had their requests processed</li>
                    <li data-i18n="end_step2">Verify all "Open" items for the day have been marked as either "Delivered" or "Timeout"</li>
                    <li data-i18n="end_step3">Mark no-shows as "Missed" for follow-up</li>
                </ol>

                <h4 style="margin: 20px 0 10px;" data-i18n="end_missed_label">For recipients who didn't arrive ‚Üí Mark as Missed:</h4>
                <div class="image-container">
                    <img src="images/mark as missed.png" alt="Mark as missed">
                    <div class="image-caption" data-i18n="end_missed_caption">‚ùå Mark recipients who didn't show up as "Missed" so they can be followed up with</div>
                </div>

                <div class="tip">
                    <strong data-i18n="tip_label">üí° Tip:</strong> <span data-i18n="end_tip">Recipients marked as "Missed" can be rescheduled for the next distribution.</span>
                </div>
            </div>
        </div>

        <!-- QUICK REFERENCE -->
        <div class="section">
            <div class="section-header">
                <span class="step-number">üìã</span>
                <h2 data-i18n="ref_title">Quick Reference Card</h2>
            </div>
            <div class="section-content">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div style="background: #e8f5e9; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid var(--bam-green);">
                        <div style="font-size: 2rem;">‚úÖ</div>
                        <strong style="color: var(--bam-green-dark);" data-i18n="ref_delivered">Delivered</strong>
                        <p style="font-size: 0.9rem; margin-top: 5px;" data-i18n="ref_delivered_desc">Recipient received the item</p>
                    </div>
                    <div style="background: #fff3e0; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid var(--bam-orange);">
                        <div style="font-size: 2rem;">‚è±Ô∏è</div>
                        <strong style="color: #bf5600;" data-i18n="ref_timeout">Timeout</strong>
                        <p style="font-size: 0.9rem; margin-top: 5px;" data-i18n="ref_timeout_desc">Recipient no longer needs item</p>
                    </div>
                    <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #2196f3;">
                        <div style="font-size: 2rem;">üìÇ</div>
                        <strong style="color: #1565c0;" data-i18n="ref_open">Open</strong>
                        <p style="font-size: 0.9rem; margin-top: 5px;" data-i18n="ref_open_desc">Still waiting - current distro items</p>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p data-i18n="footer_main">BAM Check-In Volunteer Guide ‚Ä¢ Last Updated: January 2026</p>
            <p style="margin-top: 5px;"><a href="https://bushwickayudamutua.com" target="_blank">bushwickayudamutua.com</a></p>
            <p style="margin-top: 10px; font-size: 0.8rem;" data-i18n="footer_mobile">Tap section headers to expand/collapse on mobile</p>
        </footer>
    </div>

    <script>
        // Translations
        const translations = {
            en: {
                title: "Check-In Volunteer Guide",
                subtitle: "Step-by-step instructions for the distribution check-in flow",
                checklist_title: "üîç Before You Start - Quick Checklist",
                check1: "Check your phone/device is charged",
                check2: "Ensure you have access to the BAM Check-In system",
                check3: "Know today's distribution items",
                check4: "Have the appointments list ready for edge cases",
                progress_text: "{checked} of {total} completed",
                progress_complete: "üéâ All done! Ready to start!",
                step1_title: "Landing Page - Today's Appointments",
                step1_desc: "When you open the BAM Check-In system, you'll see <strong>Today's Appointments</strong> view. This shows all recipients scheduled for today's distribution.",
                step1_caption: "üìç Landing Page: Today's Appointments view with recipients scheduled for distribution",
                tip_label: "üí° Tip:",
                step1_tip: "The \"Today's Appointments\" view automatically filters to show only recipients with appointments for today's date.",
                step2_title: "Search by Name",
                step2_desc: "When a recipient arrives, search for them by name using the search box in the upper right corner.",
                step2_caption: "üîç Type the recipient's name in the search box (upper right) to find them quickly",
                step2_tip: "You can search by partial name - typing \"mar\" will find \"Mar√≠a\", \"Maria Caz\", etc.",
                step3_title: "Alternative: Search by Phone Number",
                step3_desc: "If you can't find the recipient by name, use <strong>Ctrl+F</strong> (or Cmd+F on Mac) to search by phone number.",
                step3_caption: "üì± Use Ctrl+F (Cmd+F on Mac) to search by phone number",
                step3_tip: "You can search for partial phone numbers like \"(347) 339\" to find a match. Make sure to include the parentheses!",
                step4_title: "View Recipient's Open Requests",
                step4_desc: "Click on the recipient's name to expand and see their <strong>requests</strong>. Focus on items with <strong>\"Open\"</strong> status - these are the items for the current distribution.",
                step4_caption: "üì¶ Expanded view showing recipient's requests - focus on \"Open\" status items",
                important_label: "‚ö†Ô∏è Important:",
                step4_warning: "Only process items with <strong>\"Open\"</strong> status. Items marked \"Delivered\" have already been given out.",
                step5_title: "Process Each Request",
                step5_desc: "For each <strong>Open</strong> request, ask the recipient if they still need the item:",
                step5_if_need: "If they need the item ‚Üí Mark as Delivered:",
                step5_delivered_caption: "‚úÖ Click the status dropdown and select \"Delivered\" when recipient receives the item",
                step5_if_no_need: "If they don't need the item ‚Üí Mark as Timeout:",
                step5_timeout_caption: "‚è±Ô∏è Click the status dropdown and select \"Timeout\" when recipient no longer needs the item",
                step5_tip: "Process ALL open requests for the current distribution before moving to the next recipient.",
                step5_after_all: "After all requests are processed ‚Üí Mark as Checked In:",
                step5_checkedin_caption: "‚úÖ Once all requests are processed, mark the recipient as \"Checked In\"",
                edge_title: "Edge Case: Early/Late Arrivals",
                scenario_label: "üö® Scenario:",
                edge_scenario: "Someone shows up but they're scheduled for a different day (early or late arrival).",
                edge_desc: "Follow these steps to update their appointment to today:",
                step_a_label: "Step A:",
                step_a: "Go to the <strong>Appointments</strong> interface (in the left sidebar)",
                step_a_caption: "Navigate to Appointments in the sidebar",
                step_b_label: "Step B:",
                step_b: "Find the person using the same search methods from <strong>Steps 2 & 3</strong> (search by name or Ctrl+F for phone number), then click on their <strong>Appointment Date</strong> field",
                step_b_caption: "Click on the Appointment Date to open the calendar picker",
                step_c_label: "Step C:",
                step_c: "Select <strong>today's date</strong> from the calendar picker",
                step_c_caption: "üìÖ Select today's date (highlighted in blue) to update the appointment",
                step_d_label: "Step D:",
                step_d: "Go back to <strong>BAM Check-In ‚Üí Today's Appointments</strong> - the person should now appear!",
                step_d_caption: "‚úÖ After updating, return to Today's Appointments - they should now appear!",
                step_e_label: "Step E:",
                step_e: "Continue with the normal BAM check-in flow (search, process requests, mark delivered/timeout)",
                end_title: "End of Distribution Routine",
                end_desc: "At the end of each distribution day:",
                end_step1: "Review that all checked-in recipients have had their requests processed",
                end_step2: "Verify all \"Open\" items for the day have been marked as either \"Delivered\" or \"Timeout\"",
                end_step3: "Mark no-shows as \"Missed\" for follow-up",
                end_missed_label: "For recipients who didn't arrive ‚Üí Mark as Missed:",
                end_missed_caption: "‚ùå Mark recipients who didn't show up as \"Missed\" so they can be followed up with",
                end_tip: "Recipients marked as \"Missed\" can be rescheduled for the next distribution.",
                ref_title: "Quick Reference Card",
                ref_delivered: "Delivered",
                ref_delivered_desc: "Recipient received the item",
                ref_timeout: "Timeout",
                ref_timeout_desc: "Recipient no longer needs item",
                ref_open: "Open",
                ref_open_desc: "Still waiting - current distro items",
                footer_main: "BAM Check-In Volunteer Guide ‚Ä¢ Last Updated: January 2026",
                footer_mobile: "Tap section headers to expand/collapse on mobile"
            },
            es: {
                title: "Gu√≠a para Voluntarios de Registro",
                subtitle: "Instrucciones paso a paso para el flujo de registro de distribuci√≥n",
                checklist_title: "üîç Antes de Comenzar - Lista de Verificaci√≥n",
                check1: "Verifique que su tel√©fono/dispositivo est√© cargado",
                check2: "Aseg√∫rese de tener acceso al sistema de Registro BAM",
                check3: "Conozca los art√≠culos de distribuci√≥n de hoy",
                check4: "Tenga la lista de citas lista para casos especiales",
                progress_text: "{checked} de {total} completados",
                progress_complete: "üéâ ¬°Todo listo! ¬°Listo para comenzar!",
                step1_title: "P√°gina Principal - Citas de Hoy",
                step1_desc: "Cuando abra el sistema de Registro BAM, ver√° la vista <strong>Citas de Hoy</strong>. Esto muestra todos los beneficiarios programados para la distribuci√≥n de hoy.",
                step1_caption: "üìç P√°gina Principal: Vista de Citas de Hoy con beneficiarios programados para distribuci√≥n",
                tip_label: "üí° Consejo:",
                step1_tip: "La vista \"Citas de Hoy\" filtra autom√°ticamente para mostrar solo los beneficiarios con citas para la fecha de hoy.",
                step2_title: "Buscar por Nombre",
                step2_desc: "Cuando llegue un beneficiario, b√∫squelo por nombre usando el cuadro de b√∫squeda en la esquina superior derecha.",
                step2_caption: "üîç Escriba el nombre del beneficiario en el cuadro de b√∫squeda (arriba a la derecha) para encontrarlo r√°pidamente",
                step2_tip: "Puede buscar por nombre parcial - escribir \"mar\" encontrar√° \"Mar√≠a\", \"Maria Caz\", etc.",
                step3_title: "Alternativa: Buscar por N√∫mero de Tel√©fono",
                step3_desc: "Si no puede encontrar al beneficiario por nombre, use <strong>Ctrl+F</strong> (o Cmd+F en Mac) para buscar por n√∫mero de tel√©fono.",
                step3_caption: "üì± Use Ctrl+F (Cmd+F en Mac) para buscar por n√∫mero de tel√©fono",
                step3_tip: "Puede buscar n√∫meros de tel√©fono parciales como \"(347) 339\" para encontrar una coincidencia. ¬°Aseg√∫rese de incluir los par√©ntesis!",
                step4_title: "Ver Solicitudes Abiertas del Beneficiario",
                step4_desc: "Haga clic en el nombre del beneficiario para expandir y ver sus <strong>solicitudes</strong>. Enf√≥quese en los art√≠culos con estado <strong>\"Abierto\"</strong> - estos son los art√≠culos para la distribuci√≥n actual.",
                step4_caption: "üì¶ Vista expandida mostrando las solicitudes del beneficiario - enf√≥quese en art√≠culos con estado \"Abierto\"",
                important_label: "‚ö†Ô∏è Importante:",
                step4_warning: "Solo procese art√≠culos con estado <strong>\"Abierto\"</strong>. Los art√≠culos marcados como \"Entregado\" ya han sido entregados.",
                step5_title: "Procesar Cada Solicitud",
                step5_desc: "Para cada solicitud <strong>Abierta</strong>, pregunte al beneficiario si todav√≠a necesita el art√≠culo:",
                step5_if_need: "Si necesita el art√≠culo ‚Üí Marcar como Entregado:",
                step5_delivered_caption: "‚úÖ Haga clic en el men√∫ desplegable de estado y seleccione \"Entregado\" cuando el beneficiario reciba el art√≠culo",
                step5_if_no_need: "Si no necesita el art√≠culo ‚Üí Marcar como Vencido:",
                step5_timeout_caption: "‚è±Ô∏è Haga clic en el men√∫ desplegable de estado y seleccione \"Vencido\" cuando el beneficiario ya no necesite el art√≠culo",
                step5_tip: "Procese TODAS las solicitudes abiertas para la distribuci√≥n actual antes de pasar al siguiente beneficiario.",
                step5_after_all: "Despu√©s de procesar todas las solicitudes ‚Üí Marcar como Registrado:",
                step5_checkedin_caption: "‚úÖ Una vez procesadas todas las solicitudes, marque al beneficiario como \"Registrado\"",
                edge_title: "Caso Especial: Llegadas Tempranas/Tard√≠as",
                scenario_label: "üö® Escenario:",
                edge_scenario: "Alguien llega pero est√° programado para un d√≠a diferente (llegada temprana o tard√≠a).",
                edge_desc: "Siga estos pasos para actualizar su cita a hoy:",
                step_a_label: "Paso A:",
                step_a: "Vaya a la interfaz de <strong>Citas</strong> (en la barra lateral izquierda)",
                step_a_caption: "Navegue a Citas en la barra lateral",
                step_b_label: "Paso B:",
                step_b: "Encuentre a la persona usando los mismos m√©todos de b√∫squeda de los <strong>Pasos 2 y 3</strong> (buscar por nombre o Ctrl+F para n√∫mero de tel√©fono), luego haga clic en su campo de <strong>Fecha de Cita</strong>",
                step_b_caption: "Haga clic en la Fecha de Cita para abrir el selector de calendario",
                step_c_label: "Paso C:",
                step_c: "Seleccione <strong>la fecha de hoy</strong> del selector de calendario",
                step_c_caption: "üìÖ Seleccione la fecha de hoy (resaltada en azul) para actualizar la cita",
                step_d_label: "Paso D:",
                step_d: "Regrese a <strong>Registro BAM ‚Üí Citas de Hoy</strong> - ¬°la persona deber√≠a aparecer ahora!",
                step_d_caption: "‚úÖ Despu√©s de actualizar, regrese a Citas de Hoy - ¬°deber√≠an aparecer ahora!",
                step_e_label: "Paso E:",
                step_e: "Contin√∫e con el flujo normal de registro BAM (buscar, procesar solicitudes, marcar entregado/vencido)",
                end_title: "Rutina de Fin de Distribuci√≥n",
                end_desc: "Al final de cada d√≠a de distribuci√≥n:",
                end_step1: "Revise que todos los beneficiarios registrados hayan tenido sus solicitudes procesadas",
                end_step2: "Verifique que todos los art√≠culos \"Abiertos\" del d√≠a hayan sido marcados como \"Entregado\" o \"Vencido\"",
                end_step3: "Marque las ausencias como \"Perdido\" para seguimiento",
                end_missed_label: "Para beneficiarios que no llegaron ‚Üí Marcar como Perdido:",
                end_missed_caption: "‚ùå Marque a los beneficiarios que no aparecieron como \"Perdido\" para que puedan ser contactados",
                end_tip: "Los beneficiarios marcados como \"Perdido\" pueden ser reprogramados para la pr√≥xima distribuci√≥n.",
                ref_title: "Tarjeta de Referencia R√°pida",
                ref_delivered: "Entregado",
                ref_delivered_desc: "El beneficiario recibi√≥ el art√≠culo",
                ref_timeout: "Vencido",
                ref_timeout_desc: "El beneficiario ya no necesita el art√≠culo",
                ref_open: "Abierto",
                ref_open_desc: "En espera - art√≠culos de distribuci√≥n actual",
                footer_main: "Gu√≠a de Registro BAM ‚Ä¢ √öltima Actualizaci√≥n: Enero 2026",
                footer_mobile: "Toque los encabezados de secci√≥n para expandir/contraer en m√≥vil"
            }
        };

        let currentLang = 'en';

        function setLanguage(lang) {
            currentLang = lang;

            // Update button states
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update all translatable elements
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    el.innerHTML = translations[lang][key];
                }
            });

            // Toggle mermaid diagrams
            document.getElementById('mermaid-en').style.display = lang === 'en' ? 'block' : 'none';
            document.getElementById('mermaid-es').style.display = lang === 'es' ? 'block' : 'none';

            // Update progress text
            updateProgress();

            // Update HTML lang attribute
            document.documentElement.lang = lang;
        }

        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
            }
        });

        // Toggle checkbox when clicking the list item
        function toggleCheckbox(item) {
            const checkbox = item.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            updateProgress();
        }

        // Update progress bar and text
        function updateProgress() {
            const checkboxes = document.querySelectorAll('.checklist-items input[type="checkbox"]');
            const total = checkboxes.length;
            const checked = document.querySelectorAll('.checklist-items input[type="checkbox"]:checked').length;
            const percentage = (checked / total) * 100;

            document.getElementById('progressFill').style.width = percentage + '%';

            // Use translated text
            if (checked === total) {
                document.getElementById('progressText').textContent = translations[currentLang].progress_complete;
            } else {
                document.getElementById('progressText').textContent =
                    translations[currentLang].progress_text
                        .replace('{checked}', checked)
                        .replace('{total}', total);
            }
        }

        // Make sections collapsible
        document.querySelectorAll('.collapsible .section-header').forEach(header => {
            header.addEventListener('click', () => {
                header.parentElement.classList.toggle('collapsed');
            });
        });

        // Initialize progress on page load
        updateProgress();
    </script>
</body>
</html>
